{% extends 'frontend/routine/show.html.twig' %}

{% block routine_content %}
    <p>
        {{ 'Reminders'|trans }}: {{ routine.reminders|length }}
        <a class="btn btn-primary btn-sm float-right" href="{{ path('frontend_reminder_new', {'uuid': routine.uuid}) }}">
            <i class="fas fa-clock"></i>
            {{ 'Create a reminder'|trans }}
        </a>
    </p>
    {% if routine.reminders|length %}
        <div>
            <table class="table table-dark">
                <thead>
                    <tr>
                        <th>
                            {{ 'Next reminder at'|trans }}
                        </th>
                        <th>
                            {{ 'Type'|trans }}
                        </th>
                        <th>
                            {{ 'Send email'|trans }}
                        </th>
                        <th>
                            {{ 'Send sms'|trans }}
                        </th>
                        <th>
                            {{ 'Send motivational message'|trans }}
                        </th>
                        <th>
                            {{ 'Is enabled'|trans }}
                        </th>
                        <th>
                            {{ 'Actions'|trans }}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for reminder in routine.reminders %}
                        <tr>
                            <td>
                                {{ reminder.nextDate ? reminder.nextDate|date('Y-m-d H:i:s') : '' }}
                            </td>
                            <td>
                                {{ reminder.type }}
                            </td>
                            <td>
                                {% if reminder.sendEmail %}
                                    <span class="badge badge-success">
                                        {{ 'Yes'|trans }}
                                    </span>
                                {% else %}
                                    <span class="badge badge-danger">
                                        {{ 'No'|trans }}
                                    </span>
                                {% endif %}
                            </td>
                            <td>
                                {% if reminder.sendSms %}
                                    <span class="badge badge-success">
                                        {{ 'Yes'|trans }}
                                    </span>
                                {% else %}
                                    <span class="badge badge-danger">
                                        {{ 'No'|trans }}
                                    </span>
                                {% endif %}
                            </td>
                            <td>
                                {% if reminder.sendMotivationalMessage %}
                                    <span class="badge badge-success">
                                        {{ 'Yes'|trans }}
                                    </span>
                                {% else %}
                                    <span class="badge badge-danger">
                                        {{ 'No'|trans }}
                                    </span>
                                {% endif %}
                            </td>
                            <td>
                                {% if reminder.isEnabled %}
                                    <span class="badge badge-success">
                                        {{ 'Yes'|trans }}
                                    </span>
                                {% else %}
                                    <span class="badge badge-danger">
                                        {{ 'No'|trans }}
                                    </span>
                                {% endif %}
                            </td>
                            <td style="width: 10%;">
                                <a class="btn btn-success btn-sm m-1" href="{{ path('frontend_reminder_edit', {'uuid': reminder.uuid}) }}">
                                    <i class="fas fa-edit"></i>
                                    {{ 'Edit'|trans }}
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% endif %}
{% endblock %}
